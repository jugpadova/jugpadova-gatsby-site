{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/articles/2005/11/13/from-which-jar-a-class-was-loaded/",
    "result": {"data":{"site":{"siteMetadata":{"title":"JUG Padova"}},"markdownRemark":{"id":"80b23dab-4e4c-5ef3-a0db-db35e8ccf43f","excerpt":"Sometimes in production environments I face problems never encountered during development… It’s a general thing.. could happen with jdbc drivers or xml parsers…","html":"<p>Sometimes in production environments I face problems never encountered during development… It’s a general thing.. could happen with jdbc drivers or xml parsers.</p>\n<p>I just feel classes are loaded from a different jar than expected.</p>\n<p>This of course could happen if you’re deploying  to a very different application server or if you’ve no control over the production server classpath.</p>\n<p>I found in <em>javaalmanac.com</em> a code snippet that can help you identify which is the jar containing a specific Class at runtime:</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">Class</span> cls <span class=\"token operator\">=</span> <span class=\"token class-name\">MyFoo</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token class-name\">ProtectionDomain</span> pDomain <span class=\"token operator\">=</span> cls<span class=\"token punctuation\">.</span><span class=\"token function\">getProtectionDomain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token class-name\">CodeSource</span> cSource <span class=\"token operator\">=</span> pDomain<span class=\"token punctuation\">.</span><span class=\"token function\">getCodeSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token class-name\">URL</span> loc <span class=\"token operator\">=</span> cSource<span class=\"token punctuation\">.</span><span class=\"token function\">getLocation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \r\n<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>loc<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \r\n<span class=\"token comment\">// prints something like \"c:/jars/MyFoo.jar\"</span></code></pre></div>\n<p>This way you can check if your class is loaded right from the expected jar, not elsewhere :-).</p>\n<p>This has shown to be really useful during my sad production debug sessions.</p>\n<p>Hope it can help you as well.</p>","frontmatter":{"title":"From which Jar a Class was loaded?","date":"13 novembre 2005","description":null,"author":{"username":"paolo.dona","fullname":"Paolo Dona'","email":"paolo.dona@jugpadova.it"},"categories":null,"tags":[{"name":"class","display":"class"},{"name":"classloader","display":"classloader"},{"name":"jar","display":"jar"},{"name":"java","display":"java"}]}},"previous":{"fields":{"slug":"/articles/2005/11/13/jaxp-1-3-and-dos-attacks/"},"frontmatter":{"title":"JAXP 1.3 and DoS attacks"}},"next":{"fields":{"slug":"/articles/2005/11/18/jugmeeting-22-sito-axis-jsf-tapestry/"},"frontmatter":{"title":"JUGMeeting #22 - Sito/Axis/JSF/Tapestry"}}},"pageContext":{"id":"80b23dab-4e4c-5ef3-a0db-db35e8ccf43f","previousPostId":"bf6f8abc-f62a-51bc-931e-363297a99a32","nextPostId":"e77c310a-d561-5cf8-9f71-8204c297f632"}},
    "staticQueryHashes": ["2841359383"]}